<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find 3D - çˆ¬è™«ä¿®å¤æµ‹è¯•é¡µé¢</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .test-button:disabled {
            background: #6c757d;
            cursor: not-allowed;
        }
        .results {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 4px;
            border-left: 4px solid #007bff;
        }
        .error {
            border-left-color: #dc3545;
            background: #f8d7da;
        }
        .success {
            border-left-color: #28a745;
            background: #d4edda;
        }
        .warning {
            border-left-color: #ffc107;
            background: #fff3cd;
        }
        .result-card {
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 15px;
            margin: 10px 0;
            background: white;
        }
        .result-image {
            width: 100px;
            height: 80px;
            object-fit: cover;
            border-radius: 4px;
            margin-right: 15px;
            float: left;
        }
        .result-content {
            overflow: hidden;
        }
        .result-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
        }
        .result-meta {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }
        .result-price {
            font-weight: bold;
            color: #007bff;
        }
        .loading {
            text-align: center;
            padding: 20px;
            color: #666;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .stat-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            text-align: center;
        }
        .stat-number {
            font-size: 24px;
            font-weight: bold;
            color: #007bff;
        }
        .stat-label {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        .progress-fill {
            height: 100%;
            background: #007bff;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ” Find 3D - çˆ¬è™«ä¿®å¤æµ‹è¯•</h1>
            <p>æµ‹è¯•æœç´¢ç»“æœé“¾æ¥å’Œé¢„è§ˆå›¾æ˜¾ç¤ºä¿®å¤æ•ˆæœ</p>
        </div>

        <div class="test-section">
            <h2>ğŸ§ª æœç´¢åŠŸèƒ½æµ‹è¯•</h2>
            <p>æµ‹è¯•å…³é”®è¯æœç´¢ï¼ŒéªŒè¯é“¾æ¥æ­£ç¡®æ€§å’Œå›¾ç‰‡æ˜¾ç¤ºæ•ˆæœ</p>
            
            <div>
                <input type="text" id="searchInput" placeholder="è¾“å…¥æœç´¢å…³é”®è¯ï¼ˆå¦‚ï¼šæ‰‹æœºï¼‰" 
                       style="padding: 8px; width: 200px; margin-right: 10px;">
                <button class="test-button" onclick="testSearch()">å¼€å§‹æœç´¢æµ‹è¯•</button>
                <button class="test-button" onclick="testSpecificUrl()">æµ‹è¯•ç‰¹å®šURL</button>
                <button class="test-button" onclick="clearResults()">æ¸…é™¤ç»“æœ</button>
            </div>

            <div id="searchProgress" style="display: none;">
                <div class="loading">
                    <p>ğŸ”„ æ­£åœ¨æœç´¢ä¸­...</p>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                    </div>
                    <p id="progressText">å‡†å¤‡ä¸­...</p>
                </div>
            </div>

            <div id="searchResults"></div>
        </div>

        <div class="test-section">
            <h2>ğŸ“Š æµ‹è¯•ç»Ÿè®¡</h2>
            <div class="stats" id="testStats">
                <div class="stat-card">
                    <div class="stat-number" id="totalResults">0</div>
                    <div class="stat-label">æ€»ç»“æœæ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="validLinks">0</div>
                    <div class="stat-label">æœ‰æ•ˆé“¾æ¥</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="validImages">0</div>
                    <div class="stat-label">æœ‰æ•ˆå›¾ç‰‡</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="qualityScore">0%</div>
                    <div class="stat-label">è´¨é‡è¯„åˆ†</div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ”— é“¾æ¥æµ‹è¯•</h2>
            <p>æµ‹è¯•ç‰¹å®šçš„é­”é¡¿ç½‘é“¾æ¥æ ¼å¼</p>
            
            <div>
                <input type="text" id="urlInput" 
                       placeholder="è¾“å…¥æµ‹è¯•URLï¼ˆå¦‚ï¼šhttp://www.modown.cn/archives/103007.htmlï¼‰"
                       style="padding: 8px; width: 400px; margin-right: 10px;"
                       value="http://www.modown.cn/archives/103007.html">
                <button class="test-button" onclick="testUrlAccess()">æµ‹è¯•é“¾æ¥è®¿é—®</button>
            </div>

            <div id="urlTestResults"></div>
        </div>

        <div class="test-section">
            <h2>ğŸ–¼ï¸ å›¾ç‰‡æµ‹è¯•</h2>
            <p>æµ‹è¯•å›¾ç‰‡åŠ è½½å’Œæ˜¾ç¤ºæ•ˆæœ</p>
            
            <div>
                <button class="test-button" onclick="testImageLoading()">æµ‹è¯•å›¾ç‰‡åŠ è½½</button>
                <button class="test-button" onclick="testImageFormats()">æµ‹è¯•å›¾ç‰‡æ ¼å¼</button>
            </div>

            <div id="imageTestResults"></div>
        </div>
    </div>

    <script>
        // æ¨¡æ‹Ÿçˆ¬è™«æœåŠ¡ï¼ˆå®é™…åº”ç”¨ä¸­ä¼šè°ƒç”¨çœŸå®çš„APIï¼‰
        class MockCrawlerService {
            async searchMaterials(query, options = {}) {
                console.log(`ğŸ” æ¨¡æ‹Ÿæœç´¢: ${query}`);
                
                // æ¨¡æ‹Ÿæœç´¢å»¶è¿Ÿ
                await this.delay(1000);
                
                // è¿”å›æ¨¡æ‹Ÿçš„æœç´¢ç»“æœ
                return {
                    taskId: 'mock_task_' + Date.now(),
                    status: 'started',
                    progress: { total: 1, completed: 0, failed: 0 },
                    websiteStatus: {},
                    estimatedTime: 30
                };
            }

            async getSearchTaskStatus(taskId) {
                // æ¨¡æ‹Ÿä»»åŠ¡è¿›åº¦
                await this.delay(2000);
                
                return {
                    id: taskId,
                    status: 'completed',
                    progress: { total: 1, completed: 1, failed: 0 },
                    results: this.generateMockResults(),
                    errors: []
                };
            }

            generateMockResults() {
                return [
                    {
                        id: 'result_1',
                        title: 'é«˜è´¨é‡æ‰‹æœº3Dæ¨¡å‹ç´ æåŒ…',
                        description: 'åŒ…å«å¤šç§æ‰‹æœºå‹å·çš„é«˜ç²¾åº¦3Dæ¨¡å‹ï¼Œé€‚ç”¨äºäº§å“å±•ç¤ºå’Œæ¸²æŸ“',
                        sourceUrl: 'http://www.modown.cn/archives/103007.html',
                        sourceWebsite: 'é­”é¡¿ç½‘',
                        previewImages: [
                            {
                                url: 'https://via.placeholder.com/300x200/007bff/ffffff?text=æ‰‹æœºæ¨¡å‹1',
                                alt: 'æ‰‹æœº3Dæ¨¡å‹é¢„è§ˆ',
                                size: 'medium'
                            },
                            {
                                url: 'https://via.placeholder.com/300x200/28a745/ffffff?text=æ‰‹æœºæ¨¡å‹2',
                                alt: 'æ‰‹æœº3Dæ¨¡å‹é¢„è§ˆ2',
                                size: 'medium'
                            }
                        ],
                        pricing: {
                            isFree: true,
                            price: 0,
                            currency: 'CNY'
                        },
                        fileInfo: {
                            format: '3DS',
                            size: '15.6MB'
                        },
                        statistics: {
                            downloadCount: 1250,
                            viewCount: 5680,
                            rating: 4.5
                        },
                        categorization: {
                            category: 'ç”µå­äº§å“',
                            tags: ['æ‰‹æœº', '3Dæ¨¡å‹', 'äº§å“è®¾è®¡', 'æ¸²æŸ“']
                        },
                        quality: {
                            score: 85
                        }
                    },
                    {
                        id: 'result_2',
                        title: 'iPhone 14 Pro Max ç²¾ç¡®æ¨¡å‹',
                        description: 'åŸºäºçœŸå®å°ºå¯¸åˆ¶ä½œçš„iPhone 14 Pro Max 3Dæ¨¡å‹',
                        sourceUrl: 'http://www.modown.cn/archives/103008.html',
                        sourceWebsite: 'é­”é¡¿ç½‘',
                        previewImages: [
                            {
                                url: 'https://via.placeholder.com/300x200/dc3545/ffffff?text=iPhone+14',
                                alt: 'iPhone 14 Pro Maxæ¨¡å‹',
                                size: 'medium'
                            }
                        ],
                        pricing: {
                            isFree: false,
                            price: 25.00,
                            currency: 'CNY'
                        },
                        fileInfo: {
                            format: 'OBJ',
                            size: '8.2MB'
                        },
                        statistics: {
                            downloadCount: 890,
                            viewCount: 3240,
                            rating: 4.8
                        },
                        categorization: {
                            category: 'ç”µå­äº§å“',
                            tags: ['iPhone', 'Apple', 'æ‰‹æœº', 'ç²¾ç¡®æ¨¡å‹']
                        },
                        quality: {
                            score: 92
                        }
                    }
                ];
            }

            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
        }

        const mockCrawler = new MockCrawlerService();
        let currentResults = [];

        async function testSearch() {
            const query = document.getElementById('searchInput').value || 'æ‰‹æœº';
            const progressDiv = document.getElementById('searchProgress');
            const resultsDiv = document.getElementById('searchResults');
            
            // æ˜¾ç¤ºè¿›åº¦
            progressDiv.style.display = 'block';
            resultsDiv.innerHTML = '';
            
            try {
                // å¼€å§‹æœç´¢
                updateProgress(0, 'åˆå§‹åŒ–æœç´¢...');
                const searchResponse = await mockCrawler.searchMaterials(query);
                
                updateProgress(30, 'æ­£åœ¨çˆ¬å–æ•°æ®...');
                
                // è·å–ç»“æœ
                const task = await mockCrawler.getSearchTaskStatus(searchResponse.taskId);
                
                updateProgress(100, 'æœç´¢å®Œæˆï¼');
                
                // éšè—è¿›åº¦ï¼Œæ˜¾ç¤ºç»“æœ
                setTimeout(() => {
                    progressDiv.style.display = 'none';
                    displayResults(task.results);
                    updateStats(task.results);
                }, 500);
                
            } catch (error) {
                progressDiv.style.display = 'none';
                resultsDiv.innerHTML = `<div class="results error">âŒ æœç´¢å¤±è´¥: ${error.message}</div>`;
            }
        }

        function updateProgress(percent, text) {
            document.getElementById('progressFill').style.width = percent + '%';
            document.getElementById('progressText').textContent = text;
        }

        function displayResults(results) {
            currentResults = results;
            const resultsDiv = document.getElementById('searchResults');
            
            if (results.length === 0) {
                resultsDiv.innerHTML = '<div class="results warning">âš ï¸ æ²¡æœ‰æ‰¾åˆ°æœç´¢ç»“æœ</div>';
                return;
            }

            let html = `<div class="results success">âœ… æ‰¾åˆ° ${results.length} ä¸ªç»“æœ</div>`;
            
            results.forEach((result, index) => {
                const imageHtml = result.previewImages && result.previewImages.length > 0 
                    ? `<img src="${result.previewImages[0].url}" alt="${result.previewImages[0].alt}" class="result-image" onerror="this.src='https://via.placeholder.com/100x80/cccccc/666666?text=æ— å›¾ç‰‡'">`
                    : '<div class="result-image" style="background: #f0f0f0; display: flex; align-items: center; justify-content: center; color: #999;">æ— å›¾ç‰‡</div>';
                
                const priceHtml = result.pricing.isFree 
                    ? '<span style="color: #28a745;">å…è´¹</span>'
                    : `<span style="color: #007bff;">Â¥${result.pricing.price}</span>`;

                html += `
                    <div class="result-card">
                        ${imageHtml}
                        <div class="result-content">
                            <div class="result-title">${result.title}</div>
                            <div class="result-meta">
                                ğŸ”— <a href="${result.sourceUrl}" target="_blank" onclick="testLinkClick('${result.sourceUrl}')">${result.sourceUrl}</a>
                            </div>
                            <div class="result-meta">
                                ğŸ“ ${result.fileInfo.format || 'æœªçŸ¥'} | ğŸ“ ${result.fileInfo.size || 'æœªçŸ¥'} | 
                                ğŸ“¥ ${result.statistics.downloadCount || 0} ä¸‹è½½ | 
                                â­ ${result.statistics.rating || 0}/5
                            </div>
                            <div class="result-price">ä»·æ ¼: ${priceHtml}</div>
                            <div style="margin-top: 10px;">
                                <button class="test-button" onclick="testResultLink('${result.sourceUrl}')">æµ‹è¯•é“¾æ¥</button>
                                <button class="test-button" onclick="testResultImages(${index})">æµ‹è¯•å›¾ç‰‡</button>
                                <span style="margin-left: 10px; color: #666;">è´¨é‡è¯„åˆ†: ${result.quality.score}/100</span>
                            </div>
                        </div>
                        <div style="clear: both;"></div>
                    </div>
                `;
            });

            resultsDiv.innerHTML = html;
        }

        function updateStats(results) {
            const totalResults = results.length;
            let validLinks = 0;
            let validImages = 0;
            let totalQuality = 0;

            results.forEach(result => {
                // æ£€æŸ¥é“¾æ¥æœ‰æ•ˆæ€§
                if (result.sourceUrl && result.sourceUrl.includes('archives')) {
                    validLinks++;
                }
                
                // æ£€æŸ¥å›¾ç‰‡æœ‰æ•ˆæ€§
                if (result.previewImages && result.previewImages.length > 0) {
                    validImages++;
                }
                
                totalQuality += result.quality.score || 0;
            });

            const avgQuality = totalResults > 0 ? Math.round(totalQuality / totalResults) : 0;

            document.getElementById('totalResults').textContent = totalResults;
            document.getElementById('validLinks').textContent = validLinks;
            document.getElementById('validImages').textContent = validImages;
            document.getElementById('qualityScore').textContent = avgQuality + '%';
        }

        function testResultLink(url) {
            const resultsDiv = document.getElementById('urlTestResults');
            resultsDiv.innerHTML = `<div class="results">ğŸ”„ æ­£åœ¨æµ‹è¯•é“¾æ¥: ${url}</div>`;
            
            // æ¨¡æ‹Ÿé“¾æ¥æµ‹è¯•
            setTimeout(() => {
                const isValid = url.includes('archives') && url.includes('modown.cn');
                const resultClass = isValid ? 'success' : 'error';
                const resultIcon = isValid ? 'âœ…' : 'âŒ';
                
                resultsDiv.innerHTML = `
                    <div class="results ${resultClass}">
                        ${resultIcon} é“¾æ¥æµ‹è¯•ç»“æœ: ${isValid ? 'é“¾æ¥æ ¼å¼æ­£ç¡®ï¼Œç¬¦åˆé¢„æœŸ' : 'é“¾æ¥æ ¼å¼å¼‚å¸¸'}
                        <br>URL: ${url}
                        <br>æ ¼å¼æ£€æŸ¥: ${url.includes('archives') ? 'âœ… åŒ…å«archivesè·¯å¾„' : 'âŒ ç¼ºå°‘archivesè·¯å¾„'}
                        <br>åŸŸåæ£€æŸ¥: ${url.includes('modown.cn') ? 'âœ… æ­£ç¡®çš„åŸŸå' : 'âŒ åŸŸåä¸åŒ¹é…'}
                    </div>
                `;
            }, 1000);
        }

        function testResultImages(index) {
            const result = currentResults[index];
            const resultsDiv = document.getElementById('imageTestResults');
            
            if (!result.previewImages || result.previewImages.length === 0) {
                resultsDiv.innerHTML = '<div class="results error">âŒ è¯¥ç»“æœæ²¡æœ‰é¢„è§ˆå›¾</div>';
                return;
            }

            resultsDiv.innerHTML = '<div class="results">ğŸ”„ æ­£åœ¨æµ‹è¯•å›¾ç‰‡åŠ è½½...</div>';
            
            let html = '<div class="results success">âœ… å›¾ç‰‡æµ‹è¯•ç»“æœ:</div>';
            
            result.previewImages.forEach((img, imgIndex) => {
                html += `
                    <div style="margin: 10px 0; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
                        <p><strong>å›¾ç‰‡ ${imgIndex + 1}:</strong> ${img.url}</p>
                        <img src="${img.url}" alt="${img.alt}" style="max-width: 200px; max-height: 150px; border: 1px solid #ccc;" 
                             onload="this.nextElementSibling.innerHTML='âœ… åŠ è½½æˆåŠŸ'" 
                             onerror="this.nextElementSibling.innerHTML='âŒ åŠ è½½å¤±è´¥'">
                        <div style="margin-top: 5px; font-size: 12px;">ğŸ”„ åŠ è½½ä¸­...</div>
                    </div>
                `;
            });
            
            setTimeout(() => {
                resultsDiv.innerHTML = html;
            }, 500);
        }

        function testSpecificUrl() {
            const url = 'http://www.modown.cn/archives/103007.html';
            document.getElementById('urlInput').value = url;
            testUrlAccess();
        }

        function testUrlAccess() {
            const url = document.getElementById('urlInput').value;
            const resultsDiv = document.getElementById('urlTestResults');
            
            if (!url) {
                resultsDiv.innerHTML = '<div class="results error">âŒ è¯·è¾“å…¥æµ‹è¯•URL</div>';
                return;
            }

            resultsDiv.innerHTML = `<div class="results">ğŸ”„ æ­£åœ¨æµ‹è¯•URLè®¿é—®: ${url}</div>`;
            
            // æ¨¡æ‹ŸURLè®¿é—®æµ‹è¯•
            setTimeout(() => {
                const isValidFormat = url.includes('modown.cn') && url.includes('archives');
                const isHttps = url.startsWith('https://') || url.startsWith('http://');
                
                let resultClass = 'success';
                let resultIcon = 'âœ…';
                let message = 'URLæ ¼å¼æ­£ç¡®ï¼Œåº”è¯¥å¯ä»¥æ­£å¸¸è®¿é—®';
                
                if (!isValidFormat) {
                    resultClass = 'error';
                    resultIcon = 'âŒ';
                    message = 'URLæ ¼å¼ä¸ç¬¦åˆé­”é¡¿ç½‘archivesé¡µé¢æ ¼å¼';
                } else if (!isHttps) {
                    resultClass = 'warning';
                    resultIcon = 'âš ï¸';
                    message = 'URLç¼ºå°‘åè®®å‰ç¼€';
                }
                
                resultsDiv.innerHTML = `
                    <div class="results ${resultClass}">
                        ${resultIcon} ${message}
                        <br><br>
                        <strong>è¯¦ç»†æ£€æŸ¥:</strong><br>
                        â€¢ åè®®æ£€æŸ¥: ${isHttps ? 'âœ… æœ‰æ•ˆ' : 'âŒ ç¼ºå°‘http/https'}<br>
                        â€¢ åŸŸåæ£€æŸ¥: ${url.includes('modown.cn') ? 'âœ… æ­£ç¡®åŸŸå' : 'âŒ åŸŸåä¸åŒ¹é…'}<br>
                        â€¢ è·¯å¾„æ£€æŸ¥: ${url.includes('archives') ? 'âœ… åŒ…å«archivesè·¯å¾„' : 'âŒ ç¼ºå°‘archivesè·¯å¾„'}<br>
                        â€¢ æ ¼å¼æ£€æŸ¥: ${url.match(/archives\/\d+\.html/) ? 'âœ… ç¬¦åˆé¢„æœŸæ ¼å¼' : 'âŒ æ ¼å¼ä¸æ ‡å‡†'}<br>
                        <br>
                        <button class="test-button" onclick="window.open('${url}', '_blank')">åœ¨æ–°çª—å£æ‰“å¼€æµ‹è¯•</button>
                    </div>
                `;
            }, 1000);
        }

        function testImageLoading() {
            const resultsDiv = document.getElementById('imageTestResults');
            resultsDiv.innerHTML = '<div class="results">ğŸ”„ æ­£åœ¨æµ‹è¯•å›¾ç‰‡åŠ è½½åŠŸèƒ½...</div>';
            
            const testImages = [
                'https://via.placeholder.com/300x200/007bff/ffffff?text=æµ‹è¯•å›¾ç‰‡1',
                'https://via.placeholder.com/300x200/28a745/ffffff?text=æµ‹è¯•å›¾ç‰‡2',
                'https://invalid-url-test.jpg', // æ•…æ„çš„æ— æ•ˆURL
                'https://via.placeholder.com/300x200/dc3545/ffffff?text=æµ‹è¯•å›¾ç‰‡3'
            ];
            
            let html = '<div class="results success">âœ… å›¾ç‰‡åŠ è½½æµ‹è¯•:</div>';
            
            testImages.forEach((url, index) => {
                html += `
                    <div style="margin: 10px 0; padding: 10px; border: 1px solid #ddd; border-radius: 4px;">
                        <p><strong>æµ‹è¯•å›¾ç‰‡ ${index + 1}:</strong></p>
                        <img src="${url}" alt="æµ‹è¯•å›¾ç‰‡${index + 1}" style="max-width: 150px; max-height: 100px; border: 1px solid #ccc;" 
                             onload="this.nextElementSibling.innerHTML='âœ… åŠ è½½æˆåŠŸ'" 
                             onerror="this.nextElementSibling.innerHTML='âŒ åŠ è½½å¤±è´¥ - è¿™æ˜¯é¢„æœŸçš„æµ‹è¯•ç»“æœ'">
                        <div style="margin-top: 5px; font-size: 12px; color: #666;">ğŸ”„ åŠ è½½ä¸­...</div>
                    </div>
                `;
            });
            
            setTimeout(() => {
                resultsDiv.innerHTML = html;
            }, 500);
        }

        function testImageFormats() {
            const resultsDiv = document.getElementById('imageTestResults');
            resultsDiv.innerHTML = '<div class="results">ğŸ”„ æ­£åœ¨æµ‹è¯•ä¸åŒå›¾ç‰‡æ ¼å¼...</div>';
            
            const formatTests = [
                { format: 'JPEG', url: 'https://via.placeholder.com/200x150.jpg?text=JPEG' },
                { format: 'PNG', url: 'https://via.placeholder.com/200x150.png?text=PNG' },
                { format: 'WebP', url: 'https://via.placeholder.com/200x150.webp?text=WebP' },
                { format: 'SVG', url: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjE1MCIgZmlsbD0iIzAwN2JmZiIvPjx0ZXh0IHg9IjEwMCIgeT0iNzUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNiIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5TVkc8L3RleHQ+PC9zdmc+' }
            ];
            
            let html = '<div class="results success">âœ… å›¾ç‰‡æ ¼å¼æ”¯æŒæµ‹è¯•:</div>';
            
            formatTests.forEach((test, index) => {
                html += `
                    <div style="display: inline-block; margin: 10px; padding: 10px; border: 1px solid #ddd; border-radius: 4px; text-align: center;">
                        <p><strong>${test.format}</strong></p>
                        <img src="${test.url}" alt="${test.format}æµ‹è¯•" style="width: 100px; height: 75px; border: 1px solid #ccc;" 
                             onload="this.nextElementSibling.innerHTML='âœ… æ”¯æŒ'" 
                             onerror="this.nextElementSibling.innerHTML='âŒ ä¸æ”¯æŒ'">
                        <div style="margin-top: 5px; font-size: 12px;">ğŸ”„ æµ‹è¯•ä¸­...</div>
                    </div>
                `;
            });
            
            setTimeout(() => {
                resultsDiv.innerHTML = html;
            }, 500);
        }

        function testLinkClick(url) {
            console.log('ğŸ”— ç”¨æˆ·ç‚¹å‡»é“¾æ¥:', url);
            // è¿™é‡Œå¯ä»¥æ·»åŠ é“¾æ¥ç‚¹å‡»ç»Ÿè®¡
        }

        function clearResults() {
            document.getElementById('searchResults').innerHTML = '';
            document.getElementById('urlTestResults').innerHTML = '';
            document.getElementById('imageTestResults').innerHTML = '';
            document.getElementById('searchProgress').style.display = 'none';
            
            // é‡ç½®ç»Ÿè®¡
            document.getElementById('totalResults').textContent = '0';
            document.getElementById('validLinks').textContent = '0';
            document.getElementById('validImages').textContent = '0';
            document.getElementById('qualityScore').textContent = '0%';
            
            currentResults = [];
        }

        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸš€ Find 3D æµ‹è¯•é¡µé¢å·²åŠ è½½');
            
            // æ·»åŠ å›è½¦é”®æœç´¢æ”¯æŒ
            document.getElementById('searchInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    testSearch();
                }
            });
            
            document.getElementById('urlInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    testUrlAccess();
                }
            });
        });
    </script>
</body>
</html>